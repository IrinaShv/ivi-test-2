const elementContainer=document.querySelector(".container"),timerElement=document.querySelector(".diamond"),timerTextElement=document.querySelector(".diamond__text");let timerLoop;function initCountdown(){startCountdown(timerTextElement),timerElement.disabled=!0}function startCountdown(e){let t=1;e.innerHTML=t;const n=setInterval(()=>{3<++t?(clearInterval(n),e.innerHTML="Go!",startLoop(3)):e.innerHTML=t},1e3)}function startLoop(t){if(clearInterval(timerLoop),t){let e=t;timerLoop=setInterval(()=>{--e<0&&(clearInterval(timerLoop),startCountdown(timerTextElement))},1e3)}}timerElement.addEventListener("click",initCountdown,{once:!0}),["mouseover","touchstart"].forEach(e=>timerElement.addEventListener(e,()=>elementContainer.classList.add("container_highlight"))),["mouseout","touchend"].forEach(e=>timerElement.addEventListener(e,()=>elementContainer.classList.remove("container_highlight")));